<div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
            <span aria-hidden="true">Ã—</span>
        </button>
        <h4 class="modal-title w-100">Save Visit</h4>
    </div>
    <form [formGroup]="visitForm" (submit)="saveVisit()" autocomplete="off">
        <div class="modal-body">

            <div class="container">

                <div class="row">
                    <div class="col">
                        <div class="md-form mt-0">
                            <label for="date">Date *</label>
                            <input id="date" mdbInput mdbValidate [validateError]="submitted" type="date"
                                class="form-control" formControlName="date">

                            <mdb-error *ngIf="submitted && !fields.date.valid">
                                <span *ngIf="fields.date.errors.required"> {{formErrorMsgs.REQUIRED_ERROR}} </span>
                            </mdb-error>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <div class="form-group mb-4">
                            <label for="representativeDTO" style="color: #757575;">Sales Representative *</label>
                            <select id="representativeDTO" mdbInput mdbValidate [validateError]="submitted" type="text"
                                class="form-control" formControlName="representativeDTO">
                                <option [ngValue]="null" selected>Select</option>
                                <option *ngFor="let r of representatives" [ngValue]="r">{{r.name}}</option>
                            </select>

                            <mdb-error style="position: initial;" *ngIf="submitted && !fields.representativeDTO.valid">
                                <span *ngIf="fields.representativeDTO.errors.required">
                                    {{formErrorMsgs.REQUIRED_ERROR}}
                                </span>
                            </mdb-error>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <div class="md-form mt-0">
                            <label for="net">Net *</label>
                            <input id="net" mdbInput mdbValidate [validateError]="submitted" type="text"
                                class="form-control" formControlName="net" (change)="onChangeNet()">

                            <mdb-error *ngIf="submitted && !fields.net.valid">
                                <span *ngIf="fields.net.errors.required"> {{formErrorMsgs.REQUIRED_ERROR}} </span>
                                <span *ngIf="fields.net.errors.pattern"> {{formErrorMsgs.NUMBER_PATTERN}} </span>
                            </mdb-error>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <div class="md-form mt-0">
                            <label for="total">Total *</label>
                            <input id="total" mdbInput mdbValidate [validateError]="submitted" type="text"
                                class="form-control bg-light" formControlName="total" readonly>

                            <mdb-error *ngIf="submitted && !fields.total.valid">
                                <span *ngIf="fields.total.errors.required"> {{formErrorMsgs.REQUIRED_ERROR}} </span>
                                <span *ngIf="fields.total.errors.pattern"> {{formErrorMsgs.NUMBER_PATTERN}} </span>
                            </mdb-error>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="modal-footer">
            <button type="button" mdbBtn color="light" class="waves-light" aria-label="Close" (click)="close()"
                mdbWavesEffect>Cancel</button>
            <button type="submit" mdbBtn color="success" class="relative waves-light" mdbWavesEffect>Save</button>
        </div>

    </form>
</div>